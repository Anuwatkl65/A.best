{% extends "production/base.html" %}
{% block title %}เมนูหลัก · Production Tracker{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto px-4 py-8">

  <div class="text-center mb-8 space-y-1">
    <h1 class="text-2xl md:text-3xl font-extrabold text-gray-900 tracking-tight">
      เลือกเมนูการใช้งาน
    </h1>
    <p class="text-sm text-gray-500">
      ยินดีต้อนรับ, <span class="text-purple-700 font-semibold">{{ user.username }}</span>
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

    <a href="{% url 'department_select' %}" class="menu-card group">
      <div class="icon-box bg-purple-100 text-purple-600 group-hover:bg-purple-600 group-hover:text-white">
        <span class="material-symbols-outlined text-3xl">dashboard</span>
      </div>
      <div class="flex-1">
        <h3 class="text-base font-bold text-gray-900 group-hover:text-purple-700 transition-colors">Dashboard</h3>
        <p class="text-xs text-gray-500 mt-0.5">ดูความคืบหน้าการผลิต (Graph/Stats)</p>
      </div>
      <div class="arrow-icon text-gray-300 group-hover:text-purple-500 group-hover:translate-x-1 transition-all">
        <span class="material-symbols-outlined text-xl">arrow_forward_ios</span>
      </div>
    </a>

    <a href="{% url 'scan' %}" class="menu-card group">
      <div class="icon-box bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white">
        <span class="material-symbols-outlined text-3xl">qr_code_scanner</span>
      </div>
      <div class="flex-1">
        <h3 class="text-base font-bold text-gray-900 group-hover:text-blue-700 transition-colors">Scan Barcode</h3>
        <p class="text-xs text-gray-500 mt-0.5">บันทึกจำนวนผลิตหน้างาน</p>
      </div>
      <div class="arrow-icon text-gray-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all">
        <span class="material-symbols-outlined text-xl">arrow_forward_ios</span>
      </div>
    </a>

    <a href="{% url 'qr_export' %}" class="menu-card group">
      <div class="icon-box bg-emerald-100 text-emerald-600 group-hover:bg-emerald-600 group-hover:text-white">
        <span class="material-symbols-outlined text-3xl">print</span>
      </div>
      <div class="flex-1">
        <h3 class="text-base font-bold text-gray-900 group-hover:text-emerald-700 transition-colors">QR Code Export</h3>
        <p class="text-xs text-gray-500 mt-0.5">พิมพ์ QR Code สำหรับ Lot No.</p>
      </div>
      <div class="arrow-icon text-gray-300 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all">
        <span class="material-symbols-outlined text-xl">arrow_forward_ios</span>
      </div>
    </a>

    <a href="{% url 'data_collect' %}" class="menu-card group">
      <div class="icon-box bg-amber-100 text-amber-600 group-hover:bg-amber-600 group-hover:text-white">
        <span class="material-symbols-outlined text-3xl">table_view</span>
      </div>
      <div class="flex-1">
        <h3 class="text-base font-bold text-gray-900 group-hover:text-amber-700 transition-colors">Data Collect</h3>
        <p class="text-xs text-gray-500 mt-0.5">ดูข้อมูลดิบ / Google Sheet</p>
      </div>
      <div class="arrow-icon text-gray-300 group-hover:text-amber-500 group-hover:translate-x-1 transition-all">
        <span class="material-symbols-outlined text-xl">arrow_forward_ios</span>
      </div>
    </a>

    {% if user.is_staff or user.is_superuser %}
    <a href="{% url 'user_control' %}" class="menu-card group md:col-span-2 md:w-2/3 md:mx-auto">
      <div class="icon-box bg-rose-100 text-rose-600 group-hover:bg-rose-600 group-hover:text-white">
        <span class="material-symbols-outlined text-3xl">manage_accounts</span>
      </div>
      <div class="flex-1">
        <h3 class="text-base font-bold text-gray-900 group-hover:text-rose-700 transition-colors">User Control</h3>
        <p class="text-xs text-gray-500 mt-0.5">จัดการสิทธิ์ผู้ใช้งาน (Admin Only)</p>
      </div>
      <div class="arrow-icon text-gray-300 group-hover:text-rose-500 group-hover:translate-x-1 transition-all">
        <span class="material-symbols-outlined text-xl">arrow_forward_ios</span>
      </div>
    </a>
    {% endif %}

  </div>
  
  <div class="mt-8 text-center">
    <p class="text-[10px] text-gray-400">
      Production Tracker System v1.0 &copy; {% now "Y" %} A.Best Inter Products Co., Ltd.
    </p>
  </div>

</div>

<style>
  /* Card Styling Compact */
  .menu-card {
    display: flex;
    align-items: center;
    gap: 1rem; /* ลด Gap */
    background-color: white;
    border: 1px solid #f3f4f6;
    border-radius: 1rem; /* ลดมุมโค้ง */
    padding: 1rem; /* ลด Padding จาก 1.75rem เหลือ 1rem */
    box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.05);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    position: relative;
    overflow: hidden;
  }

  /* Hover Effect */
  .menu-card:hover {
    transform: translateY(-3px); /* ลอยขึ้นน้อยลง */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    border-color: transparent;
  }

  /* Icon Box Styling Compact */
  .icon-box {
    width: 56px; /* ลดขนาดกล่องไอคอน */
    height: 56px;
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    flex-shrink: 0;
  }
</style>
{% endblock %}